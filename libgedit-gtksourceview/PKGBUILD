pkgname=libgedit-gtksourceview
pkgver=299.0.4
pkgrel=1
pkgdesc="A library that extends GtkTextView, the standard GTK widget for multiline text editing"
arch=('x86_64')
url="https://gedit-technology.net"
license=('LGPL2.1')
depends=('gtk3' 'libxml2')
makedepends=('gobject-introspection' 'gtk-doc' 'meson')
provides=('libgedit-gtksourceview-300.so=0')
source=("https://gedit-technology.net/tarballs/libgedit-gtksourceview/$pkgname-$pkgver.tar.xz")
sha256sums=('7453a1cce2f6d58871644d2203ecdbbb043050886170ebea376c1cf6e27f86d8')

build() {
  arch-meson "$pkgname-$pkgver" build
  meson compile -C build
}

check() {
  export NO_AT_BRIDGE=1
  meson test -C build --print-errorlogs
}

package() {
  meson install -C build --destdir "$pkgdir"
}
